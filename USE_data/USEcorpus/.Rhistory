targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:2) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:2) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:3) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:4) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:5) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:6) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:7) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:10) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:20) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:30) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:40) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("<doc.id=","",targetFile)
targetFile = gsub("</doc>","",targetFile)
targetFile = gsub("</title>","",targetFile)
targetFile = gsub(".a4>\r\n<title>","",targetFile)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:40) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
stringi::stri_enc_detect(targetFile, filter_angle_brackets = TRUE)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:40) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
stri_enc_detect(targetFile, filter_angle_brackets = TRUE)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
install.packages("stringi")
install.packages("stringi")
library(stringi)
for (i in 1:40) {
targetFile = readChar(fileList[i],
nchars=file.info(fileList[i])$size)
targetFile = gsub("\r","",targetFile)
targetFile = gsub("\n","",targetFile)
targetFile = gsub('\"','"',targetFile)
stri_enc_detect(targetFile, filter_angle_brackets = TRUE)
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
targetFile = readChar(fileList[1],
nchars=file.info(fileList[1])$size)
stri_enc_detect(targetFile, filter_angle_brackets = TRUE)
install.packages("rvest")
library(rvest)
for (i in 1:40) {
targetFile = read_html(fileList[i])
targetFile %>% html_nodes("p") %>% html_text()
USE_dataMerge[i,2] <- targetFile
USE_dataMerge[i,1] <- i
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:40) {
targetFile = read_html(fileList[i])
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- targetFile
print(targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
i <- 1
targetFile = read_html(fileList[i])
targetFile %>% html_nodes("p") %>% html_text()
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- targetFile
targetFile
targetFile = read_html(fileList[i])
fileContent <- readLines(targetFile)
targetFile
fileContent <- readLines(targetFile)
targetFile = read_html(fileList[1])
file = file(fileList[1])
targetFile = read_html(file)
targetFile
file = file(fileList[1])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("doc.id") %>% html_text()
clean.targetFile
file = file(fileList[1])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("html") %>% html_text()
clean.targetFile
clean.targetFile
targetFile
file = file(fileList[1])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
for (i in 1:40) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- fileContent
print(fileContent)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:30) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- fileContent
print(fileContent)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:20) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- fileContent
print(fileContent)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:20) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(fileContent)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:20) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(clean.targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:40) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(clean.targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:iterations) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(clean.targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
for (i in 1:iterations) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n","",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"','"',clean.targetFile)
print(clean.targetFile)
# bizWords = tolower(unlist(strsplit(bizDF$name[i]," ")))
# m_joy = mean(bizWords %in% joy)
# bizDF$joy[i] = m_joy
}
USE_dataMerge[1]
USE_dataMerge
# Clean up
for (i in 1:iterations) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n","",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"','"',clean.targetFile)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i])
}
print(USE_dataMerge[i,2])
# Clean up
for (i in 1:2) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub("\\\"","\"",clean.targetFile)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
# Clean up
for (i in 1:2) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', "'",clean.targetFile, fixed = TRUE)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
# Clean up
for (i in 1:2) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', "\"",clean.targetFile, fixed = TRUE)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
# Clean up
for (i in 1:2) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', '"',clean.targetFile, fixed = TRUE)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
# Clean up
for (i in 1:2) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', "'",clean.targetFile, fixed = TRUE)
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
# Set up for loop to pipe each file into a single dataset.
fileList <- list.files(path = "a4", pattern = "txt")
iterations = 185
variables = 2
setwd("~/Documents/academia/UCLA/Year 1/COMM 220/final_project/USE_data/USEcorpus/a4")
# Set up for loop to pipe each file into a single dataset.
fileList <- list.files(path = "", pattern = "txt")
iterations = 185
variables = 2
USE_dataMerge <- matrix(ncol=variables, nrow=iterations)
# Clean up
for (i in 1:iterations) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', "'",clean.targetFile, fixed = TRUE) # could use some investigating to get a double quote rather than single quote...
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
setwd("~/Documents/academia/UCLA/Year 1/COMM 220/final_project/USE_data/USEcorpus/")
# Set up for loop to pipe each file into a single dataset.
fileList <- list.files(path = "a4", pattern = "txt")
# Clean up
for (i in 1:iterations) {
file = file(fileList[i])
targetFile = read_html(file)
clean.targetFile <- targetFile %>% html_nodes("body") %>% html_text()
clean.targetFile = gsub("\r","",clean.targetFile)
clean.targetFile = gsub("\n"," ",clean.targetFile)
clean.targetFile = gsub("\t","",clean.targetFile)
clean.targetFile = gsub('\"', "'",clean.targetFile, fixed = TRUE) # could use some investigating to get a double quote rather than single quote...
USE_dataMerge[i,1] <- i
USE_dataMerge[i,2] <- clean.targetFile
print(USE_dataMerge[i,2])
}
